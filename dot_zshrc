# Development-focused zsh configuration

# Oh My Zsh setup
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="robbyrussell"

plugins=(
    git
    brew
    macos
    docker
    docker-compose
    node
    npm
    python
    pip
    rust
    golang
    zsh-autosuggestions
    zsh-syntax-highlighting
)

source $ZSH/oh-my-zsh.sh

# History settings
HISTSIZE=10000
SAVEHIST=10000
HISTFILE=~/.zsh_history
setopt HIST_VERIFY
setopt SHARE_HISTORY
setopt APPEND_HISTORY
setopt INC_APPEND_HISTORY
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_IGNORE_SPACE

# Basic settings
export LANG=en_US.UTF-8
export EDITOR='vim'

# Path
export PATH="/usr/local/bin:$PATH"
export PATH="/opt/homebrew/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"

# Basic aliases
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

# Directory navigation
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'

# Git aliases
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gl='git log --oneline'
alias gd='git diff'

# Development aliases
alias python='python3'
alias pip='pip3'

# Package manager aliases
alias pnpm='pnpm'
alias uv='uv'

# Docker aliases
alias d='docker'
alias dc='docker-compose'
alias dps='docker ps'
alias di='docker images'


# Python setup (pyenv)
if command -v pyenv 1>/dev/null 2>&1; then
  eval "$(pyenv init -)"
fi

# Composer global bin
export PATH="$HOME/.composer/vendor/bin:$PATH"

# Go setup
export GOPATH="$HOME/go"
export PATH="$GOPATH/bin:$PATH"

# Rust setup
export PATH="$HOME/.cargo/bin:$PATH"


# Utility functions
mkcd() {
    mkdir -p "$1" && cd "$1"
}

# Terminal title
precmd() {
    print -Pn "\e]0;%n@%m: %~\a"
}

# Enable completion
autoload -U compinit
compinit
